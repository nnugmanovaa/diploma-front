<ng-container *transloco="let text; read: 'steps'">
  <section class="profile-page" *ngIf="!loading && !resultShow">
    <div class="container">
      <div class="step-progress">
        <div id="top"></div>
        <div class="back-btn" *ngIf="step > 1" (click)="step = step - 1">
          <svg width="12" height="20" viewBox="0 0 12 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.67 1.8701L9.9 0.100098L0 10.0001L9.9 19.9001L11.67 18.1301L3.54 10.0001L11.67 1.8701Z" fill="black" />
          </svg>
          {{text('Back')}}
        </div>
        <p>{{text('Step1')}} {{ step }}/3</p>
        <div class="progress"><span style="width: calc(33% * {{ step }});"></span></div>
      </div>
      <form ngNativeValidate (ngSubmit)="setPasportData()" *ngIf="step == 1" (ngSubmit)="scrollToTop()">
        <div class="form-top">
          <h2>{{text('pasfordData')}}</h2>
        </div>
        <div class="label-input">
          <label>{{text('iin')}}</label>
          <input type="tel" required name="iin" [(ngModel)]="data.iin">
        </div>
        <div class="label-input">
          <label>{{text('Surname')}}</label>
          <input type="text" required name="lastName" [(ngModel)]="data.personalInfo.lastName">
        </div>
        <div class="label-input">
          <label>{{text('name')}}</label>
          <input type="text" required name="firstName" [(ngModel)]="data.personalInfo.firstName">
        </div>
        <div class="label-input">
          <label>{{text('dadname')}}</label>
          <input type="text" name="middleName" [(ngModel)]="data.personalInfo.middleName">
        </div>
        <div class="label-input">
          <label>{{text('dateBirth')}}</label>
          <input type="date" required name="birthDate" [(ngModel)]="data.personalInfo.birthDate">
        </div>
        <div class="label-input">
          <label>{{text('numberPasford')}}</label>
          <input type="text" required name="idNumber" [(ngModel)]="data.personalInfo.nationalIdDocument.idNumber">
        </div>
        <div class="label-input">
          <label>{{text('nationalty')}}</label>
          <input type="text" required name="nationality" [(ngModel)]="data.personalInfo.nationalIdDocument.nationality">
        </div>
        <div class="label-input">
          <label>{{text('issueWhom')}}</label>
          <select name="issuedBy" required [(ngModel)]="data.personalInfo.nationalIdDocument.issuedBy">
            <option value="–ú–ò–ù–ò–°–¢–ï–†–°–¢–í–û –í–ù–£–¢–†–ï–ù–ù–ò–• –î–ï–õ –†–ö">{{text('MVD')}}</option>
            <option value="–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞ —é—Å—Ç–∏—Ü–∏–∏ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω">{{text('MU')}}</option>
          </select>
        </div>
        <div class="label-input">
          <label>{{text('dateIssue')}}</label>
          <input type="date" required name="issuedDate" [(ngModel)]="data.personalInfo.nationalIdDocument.issuedDate">
        </div>
        <div class="label-input">
          <label>{{text('endDate')}}</label>
          <input type="date" required name="expireDate" [(ngModel)]="data.personalInfo.nationalIdDocument.expireDate">
        </div>
        <div class="label-input ipdl-text">
          <div class="question">
            <label>{{text('IPDL')}}</label>
            <div class="tooltip">
              <img class="question-img" src="assets/img/help_outline.svg" alt="">
              <span class="tooltiptext">{{text('ipdl-text')}}</span>
            </div>
          </div>
          <select required [(ngModel)]="data.personalInfo.IPDL" name="IPDL">
            <option value="yes">{{text('yes')}}</option>
            <option value="no">{{text('no')}}</option>
          </select>
        </div>
        <button type="submit" class="btn">{{text('Confirm')}}</button>
      </form>

      <form ngNativeValidate (ngSubmit)="setAdressData()" *ngIf="step == 2" (ngSubmit)="scrollToTop()">
        <div class="form-top">
          <h2>{{text('addresData')}}</h2>
        </div>
        <div class="label-input">
          <label>{{text('state')}}</label>
          <select required name="region" [(ngModel)]="data.personalInfo.registrationAddress.region" (ngModelChange)="getDistrictById()">
            <option [value]="">{{text('select')}}</option>
            <option *ngFor="let item of districts" value="{{item.code}}">{{ item.name_ru }}</option>
          </select>
        </div>
        <div class="label-input">
          <label [class.disabled]="!cities">{{text('city')}}</label>
          <select required name="city" [(ngModel)]="data.personalInfo.registrationAddress.city" [disabled]="!cities">
            <option [value]="">{{text('select')}}</option>
            <option *ngFor="let item of cities" [ngValue]="item.name_ru">{{ item.name_ru }}</option>
          </select>
        </div>

        <!-- <div class="label-input">
        <label>–ò–Ω–¥–µ–∫—Å</label>
        <input type="text" required name="postalCode" [(ngModel)]="data.personalInfo.registrationAddress.postalCode">
      </div> -->

        <div class="label-input">
          <label>{{text('street')}}</label>
          <input type="text" required name="street" [(ngModel)]="data.personalInfo.registrationAddress.street">
        </div>

        <div class="half-form">
          <div class="label-input">
            <label>{{text('home-num')}}</label>
            <input type="text" required name="house" [(ngModel)]="data.personalInfo.registrationAddress.house">
          </div>

          <div class="label-input">
            <label>{{text('kv')}}</label>
            <input type="text" required name="apartment" [(ngModel)]="data.personalInfo.registrationAddress.apartment">
          </div>
        </div>

        <div class="label-toggle">
          <p>
            <img src="assets/img/point.svg" alt="">
            {{text('adrprocheck')}}
          </p>
          <label>
            <input type="checkbox" name="sameAdress" [(ngModel)]="data.personalInfo.sameAdress">
            <span></span>
          </label>
        </div>

        <ng-container *ngIf="!data.personalInfo.sameAdress">
          <div class="form-top">
            <h2>{{text('adrpro')}}</h2>
          </div>

          <div class="label-input">
            <label>{{text('state')}}</label>
            <select required name="residenceAddressRegion" [(ngModel)]="data.personalInfo.residenceAddress.region" (ngModelChange)="getResDistrictByID()">
              <option [value]="">{{text('select')}}</option>
              <option *ngFor="let item of districts" value="item.code">{{ item.name_ru }}</option>
            </select>
          </div>
          <div class="label-input">
            <label [class.disabled]="!cities">{{text('city')}}</label>
            <select required name="residenceAddresscity" [(ngModel)]="data.personalInfo.residenceAddress.city" [disabled]="!cities">
              <option [value]="">{{text('select')}}</option>
              <option *ngFor="let item of citiesres" [ngValue]="item.name_ru">{{ item.name_ru }}</option>
            </select>
          </div>

          <!-- <div class="label-input">
          <label>–ò–Ω–¥–µ–∫—Å</label>
          <input type="text" required name="residenceAddresspostalCode" [(ngModel)]="data.personalInfo.residenceAddress.postalCode">
        </div> -->

          <div class="label-input">
            <label>{{text('street')}}</label>
            <input type="text" required name="residenceAddressstreet" [(ngModel)]="data.personalInfo.residenceAddress.street">
          </div>

          <div class="half-form">
            <div class="label-input">
              <label>{{text('home-num')}}</label>
              <input type="text" required name="residenceAddresshouse" [(ngModel)]="data.personalInfo.residenceAddress.house">
            </div>

            <div class="label-input">
              <label>{{text('kv')}}</label>
              <input type="text" name="residenceAddressapartment" [(ngModel)]="data.personalInfo.residenceAddress.apartment">
            </div>
          </div>
        </ng-container>

        <div class="label-input">
          <label>{{text('per')}}</label>
          <select required [(ngModel)]="userInfo.addressInfoDto.periodOfResidence" name="periodOfResidence">
            <option value="">{{text('select')}}</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7+</option>
          </select>
        </div>

        <button type="submit" class="btn">{{text('Confirm')}}</button>
      </form>

      <form ngNativeValidate (ngSubmit)="finishStep()" *ngIf="step == 3">
        <div class="form-top">
          <h2>{{text('aboutwork')}}</h2>
          <p class="info-text">{{text('take-loan')}} <span>{{text('30credit')}}</span>{{text('allpol')}}</p>
        </div>

        <!-- <div class="label-toggle">
          <p class="upload-text">–ï—Å–ª–∏ –í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Kaspi –±–∞–Ω–∫, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤—ã–ø–∏—Å–∫—É –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3, 6, 12 –º–µ—Å—è—Ü–µ–≤, –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–¥–∞—á–∏ –∑–∞–π–º–∞.</p>
          <label>
            <input type="checkbox" name="kaspiStatement" [(ngModel)]="kaspiStatement">
            <span></span>
          </label>
        </div>

        <ng-container *ngIf="kaspiStatement">
          <div class="upload-file">
            <input style="display: none" type="file" class="file-upload" (change)="onFileSelected($event)" #fileInput>
            <button class="attachment-img" type="button" (click)="fileInput.click()">üìÇ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª</button>
            <button class="attachment-btn" type="button" (click)="onUpload()">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</button>
          </div>
        </ng-container> -->

        <div class="label-input">
          <label>{{text('edu')}}</label>
          <select name="education" [(ngModel)]="data.personalInfo.education">
            <option value="" disabled selected>{{text('select')}}</option>
            <option value="–°—Ä–µ–¥–Ω–µ–µ">{{text('mid')}}</option>
            <option value="–°—Ä–µ–¥–Ω–µ–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ">{{text('midspe')}}</option>
            <option value="–ù–µ–∑–∞–∫–æ–Ω—á–µ–Ω–Ω–æ–µ –≤—ã—Å—à–µ–µ">{{text('unfinishhigh')}}</option>
            <option value="–í—ã—Å—à–µ–µ">{{text('hidh')}}</option>
            <option value="–ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞, 2-–æ–µ –≤—ã—Å—à–µ–µ, –£—á–µ–Ω–∞—è —Å—Ç–µ–ø–µ–Ω—å –∏ –ø—Ä">{{text('magistr')}}</option>
          </select>
        </div>

        <div class="label-input">
          <label>{{text('employment')}}</label>
          <select name="employment" [(ngModel)]="data.personalInfo.employment">
            <option value="" disabled selected>{{text('select')}}</option>
            <option value="–°–æ—Ç—Ä—É–¥–Ω–∏–∫ –∫–æ–º–ø–∞–Ω–∏–∏">{{text('employee')}}</option>
            <option value="–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å">{{text('indiemp')}}</option>
            <option value="–ë–µ–∑—Ä–∞–±–æ—Ç–Ω—ã–π">{{text('jobless')}}</option>
            <option value="–°—Ç—É–¥–µ–Ω—Ç">{{text('student')}}</option>
            <option value="–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä">{{text('pensioner')}}</option>
            <option value="–í–ª–∞–¥–µ–ª–µ—Ü –∫–æ–º–ø–∞–Ω–∏–∏">{{text('bosscompony')}}</option>
            <option value="–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –∫–æ–º–ø–∞–Ω–∏–∏)">{{text('pensi-empoylee')}}</option>
            <option value="–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å)">{{text('pensi-indiemp')}}</option>
            <option value="–í –¥–µ–∫—Ä–µ—Ç–Ω–æ–º –æ—Ç–ø—É—Å–∫–µ">{{text('maternity')}}</option>
          </select>
        </div>

        <div class="label-input">
          <label>{{text('kindof-act')}}</label>
          <select name="typeOfWork" [(ngModel)]="data.personalInfo.typeOfWork">
            <option value="" disabled selected>{{text('select')}}</option>
            <option value="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏/—Ç–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏">{{text('info-tech')}}</option>
            <option value="–§–∏–Ω–∞–Ω—Å—ã, –±–∞–Ω–∫–∏, —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ, –∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥">{{text('info-bank')}}</option>
            <option value="–¢–≠–ö">{{text('tek')}}</option>
            <option value="–°–µ—Ä–≤–∏—Å –∏ –£—Å–ª—É–≥–∏">{{text('service')}}</option>
            <option value="–ê—Ä–º–∏—è">{{text('army')}}</option>
            <option value="–û—Ö—Ä–∞–Ω–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å">{{text('security')}}</option>
            <option value="–î–æ–±—ã–≤–∞—é—â–∏–π —Å–µ–∫—Ç–æ—Ä">{{text('ext-sector')}}</option>
            <option value="–ö—É–ª—å—Ç—É—Ä–∞ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–æ">{{text('culture')}}</option>
            <option value="–ú–µ–¥–∏—Ü–∏–Ω–∞">{{text('medicine')}}</option>
            <option value="–ù–∞—É–∫–∞ –∏ –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ">{{text('science')}}</option>
            <option value="–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª—É–∂–±–∞">{{text('gos-service')}}</option>
            <option value="–¢–æ—Ä–≥–æ–≤–ª—è">{{text('trade')}}</option>
            <option value="–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å">{{text('industry')}}</option>
            <option value="–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å">{{text('building')}}</option>
            <option value="–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç">{{text('transport')}}</option>
            <!-- <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option> -->
          </select>
        </div>

        <div class="label-input">
          <label>{{text('post')}}</label>
          <input type="text" name="workPosition" [(ngModel)]="data.personalInfo.workPosition">
        </div>

        <div class="label-input">
          <label>{{text('name-organization')}}</label>
          <input type="text" name="employer" [(ngModel)]="data.personalInfo.employer">
        </div>

        <div class="label-input">
          <label>{{text('work-number')}}</label>
          <!-- <input type="tel" required name="workPhoneNum" [(ngModel)]="data.personalInfo.workPhoneNum"> -->
          <input type="tel" name="workPhoneNum" [(ngModel)]="data.personalInfo.workPhoneNum">
        </div>


        <div class="label-input">
          <label>{{text('work-exp')}}</label>
          <input type="number" name="workExperience" [(ngModel)]="data.personalInfo.workExperience">
        </div>

        <div class="label-input">
          <label>{{text('month-income')}}</label>
          <input type="tel" name="monthlyIncome" [unmask]="true" [(ngModel)]="data.personalInfo.monthlyIncome" [imask]="priceMask">
        </div>

        <div class="label-toggle">
          <p>
            –ú–µ–Ω—è–ª—Å—è –ª–∏ –í–∞—à –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å—è—Ü–µ–≤?
          </p>
          <label>
            <input type="checkbox" name="incomeToggle" [(ngModel)]="incomeToggle">
            <span></span>
          </label>
        </div>

        <ng-container *ngIf="incomeToggle">
          <div class="label-input">
            <label>2-–æ–π –º–µ—Å—è—Ü</label>
            <input type="tel" name="monthlyIncomesInfo.secondMonth" [unmask]="true" [(ngModel)]="data.personalInfo.monthlyIncomesInfo.secondMonth" [imask]="priceMask">
          </div>
          <div class="label-input">
            <label>3-–∏–π –º–µ—Å—è—Ü</label>
            <input type="tel" name="monthlyIncomesInfo.thirdMonth" [unmask]="true" [(ngModel)]="data.personalInfo.monthlyIncomesInfo.thirdMonth" [imask]="priceMask">
          </div>
          <div class="label-input">
            <label>4-—ã–π –º–µ—Å—è—Ü</label>
            <input type="tel" name="monthlyIncomesInfo.fourthMonth" [unmask]="true" [(ngModel)]="data.personalInfo.monthlyIncomesInfo.fourthMonth" [imask]="priceMask">
          </div>
          <div class="label-input">
            <label>5-—ã–π –º–µ—Å—è—Ü</label>
            <input type="tel" name="monthlyIncomesInfo.fifthMonth" [unmask]="true" [(ngModel)]="data.personalInfo.monthlyIncomesInfo.fifthMonth" [imask]="priceMask">
          </div>
          <div class="label-input">
            <label>6-–æ–π –º–µ—Å—è—Ü</label>
            <input type="tel" name="monthlyIncomesInfo.sixthMonth" [unmask]="true" [(ngModel)]="data.personalInfo.monthlyIncomesInfo.sixthMonth" [imask]="priceMask">
          </div>
        </ng-container>

        <div class="label-input">
          <label>{{text('month-extra-income')}}</label>
          <input type="tel" name="additionalMonthlyIncome" [unmask]="true" [(ngModel)]="data.personalInfo.additionalMonthlyIncome" [imask]="priceMask">
        </div>

        <div class="label-toggle">
          <p>
            –ú–µ–Ω—è–ª—Å—è –ª–∏ –í–∞—à –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å—è—Ü–µ–≤?
          </p>
          <label>
            <input type="checkbox" name="additionalIncomeToggle" [(ngModel)]="additionalIncomeToggle">
            <span></span>
          </label>
        </div>

        <ng-container *ngIf="additionalIncomeToggle">
          <div class="label-input">
            <label>2-–æ–π –º–µ—Å—è—Ü</label>
            <input type="tel" name="additionalMonthlyIncomesInfo.secondMonth" [unmask]="true" [(ngModel)]="data.personalInfo.additionalMonthlyIncomesInfo.secondMonth" [imask]="priceMask">
          </div>
          <div class="label-input">
            <label>3-–∏–π –º–µ—Å—è—Ü</label>
            <input type="tel" name="additionalMonthlyIncomesInfo.thirdMonth" [unmask]="true" [(ngModel)]="data.personalInfo.additionalMonthlyIncomesInfo.thirdMonth" [imask]="priceMask">
          </div>
          <div class="label-input">
            <label>4-—ã–π –º–µ—Å—è—Ü</label>
            <input type="tel" name="additionalMonthlyIncomesInfo.fourthMonth" [unmask]="true" [(ngModel)]="data.personalInfo.additionalMonthlyIncomesInfo.fourthMonth" [imask]="priceMask">
          </div>
          <div class="label-input">
            <label>5-—ã–π –º–µ—Å—è—Ü</label>
            <input type="tel" name="additionalMonthlyIncomesInfo.fifthMonth" [unmask]="true" [(ngModel)]="data.personalInfo.additionalMonthlyIncomesInfo.fifthMonth" [imask]="priceMask">
          </div>
          <div class="label-input">
            <label>6-–æ–π –º–µ—Å—è—Ü</label>
            <input type="tel" name="additionalMonthlyIncomesInfo.sixthMonth" [unmask]="true" [(ngModel)]="data.personalInfo.additionalMonthlyIncomesInfo.sixthMonth" [imask]="priceMask">
          </div>
        </ng-container>

        <div class="label-input">
          <label>{{text('marital-status')}}</label>
          <select name="maritalStatus" [(ngModel)]="data.personalInfo.maritalStatus">
            <option value="" disabled selected>{{text('select')}}</option>
            <option value="–ù–µ –∂–µ–Ω–∞—Ç / –ù–µ –∑–∞–º—É–∂–µ–º">{{text('notmarry')}}</option>
            <option value="–ñ–µ–Ω–∞—Ç / –ó–∞–º—É–∂–µ–º">{{text('marry')}}</option>
            <option value="–í–¥–æ–≤–µ—Ü / –í–¥–æ–≤–∞">{{text('widow')}}</option>
            <option value="–†–∞–∑–≤–µ–¥–µ–Ω / –†–∞–∑–≤–µ–¥–µ–Ω–∞">{{text('divorce')}}</option>
            <option value="–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π –±—Ä–∞–∫">{{text('civil-marry')}}</option>
          </select>
        </div>

        <div class="label-input">
          <label>{{text('amount-child')}}</label>
          <select name="numberOfKids" [(ngModel)]="data.personalInfo.numberOfKids">
            <option value="" disabled selected>{{text('select')}}</option>
            <option [value]="0">0</option>
            <option [value]="1">1</option>
            <option [value]="2">2</option>
            <option [value]="3">3</option>
            <option [value]="4">4</option>
          </select>
        </div>


        <button type="submit" class="btn">{{text('calculate')}}</button>
      </form>
    </div>
  </section>

  <ng-container *ngIf="loading">
    <div class="loader">
      <div class="top">
        <svg class="progress-ring" width="270" height="270">
          <circle class="progress-ring__circle" stroke="#34BE82" stroke-width="15" fill="transparent" r="120" cx="135" cy="135" style="{{stroke}}" />
        </svg>
        <div class="percent">{{ percent }}%</div>
      </div>
      <h2>{{text('process-prog')}}</h2>
      <p>{{text('pls-result')}}</p>
    </div>
  </ng-container>

  <ng-container *ngIf="resultShow">
    <div class="error-result" *ngIf="errorResult">
      <img src="assets/img/error.svg" alt="">
      <h2>{{text('unfortun')}}</h2>
      <div class="btn" [routerLink]="['/cabinet/history']">{{text('cancel-loan')}}</div>
    </div>
    <div class="success-result" *ngIf="successResult">
      <img src="assets/img/success.svg" alt="">
      <h2>
        {{text('approved-loan')}}<br>
        {{text('sum-loan')}} {{ data.loanAmount | currency: 'CLP':'‚Ç∏' }} <br>
        {{text('term-loan')}} {{ data.loanPeriod }} {{text('term-month')}}
      </h2>
      <p class="info-text">{{text('write-password')}}</p>

      <div class="file" (click)="getAnketa()"><img src="assets/img/dot.svg" alt="">{{text('statement')}}</div>
      <div class="file" (click)="getContract()"><img src="assets/img/dot.svg" alt="">{{text('pay-schedule')}}</div>
      <br>
      <div class="btn" (click)="sendOTP()">{{text('subscribe')}}</div>
      <div class="btn btn-default" [routerLink]="['/cabinet/history']">{{text('cancel-loan')}}</div>
    </div>
    <div class="alternative-result" *ngIf="alternativeResult">
      <img src="assets/img/error.svg" alt="">
      <h2>{{text('unfortun')}}</h2>
      <p><b>{{text('alternative')}}</b></p>
      <ul>
        <li *ngFor="let item of alternativeChoices" (click)="selectedChoice = item" [class.active]="selectedChoice == item">
          <div class="left">
            <span>{{text('sum-loan')}}</span>
            <p>{{ item.loanAmount | currency: 'CLP':'‚Ç∏' }}</p>
          </div>
          <div class="center">
            <span>{{text('term-loan')}}</span>
            <p>{{ item.loanMonthPeriod }} –º–µ—Å.</p>
          </div>
        </li>
      </ul>
      <button class="btn" (click)="createNewReq()" [disabled]="!selectedChoice">{{text('conditions')}}</button>
      <div class="btn btn-default" [routerLink]="['/cabinet']">{{text('cancel-loan')}}</div>
    </div>
  </ng-container>

  <div class="profile-page">
    <div class="modal" *ngIf="showSMSModal">
      <div class="modal-content">
        <form ngNativeValidate (ngSubmit)="sendCode()">
          <div class="form-top">
            <h2>{{text('confirm-sms')}}</h2>
            <p>{{text('write-sms')}}</p>
          </div>
          <div class="form-content">
            <div class="text-center">
              <h3>SMS-–∫–æ–¥</h3>
              <div class="label-input">
                <input type="tel" name="code" [imask]="{mask: '000000',lazy: false, placeholderChar: '-'}" [(ngModel)]="code">
              </div>
            </div>
            <button type="submit" class="btn">{{text('Confirm')}}</button>
            <div class="resend-pass" (click)="sendOTP()">{{text('resend')}}</div>
          </div>
        </form>
      </div>
    </div>
  </div>
</ng-container>
